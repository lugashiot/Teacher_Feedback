{% extends "dashboard/dashboard_base.html" %}

{% block title %}Ergebnisse{% endblock %}

{% block content %}
  <center>
    <div class="container-fluid">
      <h1>Results from {{class}} with {{teacher}}</h1>
      <div class="chart_row">
        <h2>{{q0}}</h2>
        <div class="doughnut">
          <canvas id="doughnut_chart_q0"></canvas>
        </div>
        <div class="bar">
          <canvas id="bar_chart_q0"></canvas>
        </div>
        <hr class="mt-5" style="color:#6C757D;background-color:#6C757D">
      </div>
      <div class="chart_row">
        <h2>{{q1}}</h2>
        <div class="doughnut">
          <canvas id="doughnut_chart_q1"></canvas>
        </div>
        <div class="bar">
          <canvas id="bar_chart_q1"></canvas>
        </div>
        <hr class="mt-5" style="color:#6C757D;background-color:#6C757D">
      </div>
      <div class="chart_row">
        <h2>{{q2}}</h2>
        <div class="doughnut">
          <canvas id="doughnut_chart_q2"></canvas>
        </div>
        <div class="bar">
          <canvas id="bar_chart_q2"></canvas>
        </div>
        <hr class="mt-5" style="color:#6C757D;background-color:#6C757D">
      </div>
      <div class="chart_row">
        <h2>{{q3}}</h2>
        <div class="doughnut">
          <canvas id="doughnut_chart_q3"></canvas>
        </div>
        <div class="bar">
          <canvas id="bar_chart_q3"></canvas>
        </div>
      </div>
    </div>
  </center>
  <script>
    Chart.defaults.global.defaultFontColor = "#FFFFFF";
    Chart.defaults.global.defaultFontSize = 14;

    var barColors = [
    '#4FC14F',
    '#A6C24C',
    '#FFC84C',
    '#F48846',
    '#EB4841'
    ];
    var options_doughnut = {
      responsive: true,
      legend: {
        position: 'top',
        labels: {
          usePointStyle: true
        }
      }
    }
    var options_bar = {
      responsive: true,
      legend: {
        display: false,
      },
      scales: {
        yAxes: [{
          gridLines: {
            color: "#616970",
            display: true
          },
          ticks: {
            min: 0,
            stepSize: 1
          }
        }],
        xAxes: [{
          gridLines: {
            color: "#616970",
            display: false
          },
          ticks: {
            display: false
          }
        }]
      }
    }

    // --------------------------------------------------------------------------------------------------------

    var x_q0 = ['{{q0a0}}', '{{q0a1}}', '{{q0a2}}', '{{q0a3}}', '{{q0a4}}'];
    var y_q0 = ['{{q0a0_val}}', '{{q0a1_val}}', '{{q0a2_val}}', '{{q0a3_val}}', '{{q0a4_val}}'];

    var x_q1 = ['{{q1a0}}', '{{q1a1}}', '{{q1a2}}', '{{q1a3}}', '{{q1a4}}'];
    var y_q1 = ['{{q1a0_val}}', '{{q1a1_val}}', '{{q1a2_val}}', '{{q1a3_val}}', '{{q1a4_val}}'];

    var x_q2 = ['{{q2a0}}', '{{q2a1}}', '{{q2a2}}', '{{q2a3}}', '{{q2a4}}'];
    var y_q2 = ['{{q2a0_val}}', '{{q2a1_val}}', '{{q2a2_val}}', '{{q2a3_val}}', '{{q2a4_val}}'];

    var x_q3 = ['{{q3a0}}', '{{q3a1}}', '{{q3a2}}', '{{q3a3}}', '{{q3a4}}'];
    var y_q3 = ['{{q3a0_val}}', '{{q3a1_val}}', '{{q3a2_val}}', '{{q3a3_val}}', '{{q3a4_val}}'];

    var data_q0 = {
      labels: x_q0,
      datasets: [{
        backgroundColor: barColors,
        borderColor: '#343A40',
        data: y_q0
      }]
    }

    var data_q1 = {
      labels: x_q1,
      datasets: [{
        backgroundColor: barColors,
        borderColor: '#343A40',
        data: y_q1
      }]
    }

    var data_q2 = {
      labels: x_q2,
      datasets: [{
        backgroundColor: barColors,
        borderColor: '#343A40',
        data: y_q2
      }]
    }

    var data_q3 = {
      labels: x_q3,
      datasets: [{
        backgroundColor: barColors,
        borderColor: '#343A40',
        data: y_q3
      }]
    }

    // --------------------------------------------------------------------------------------------------------

    new Chart("doughnut_chart_q0", {
      type: "doughnut",
      data: data_q0,
      options: options_doughnut
    });
      new Chart("bar_chart_q0", {
      type: "bar",
      data: data_q0,
      options: options_bar
    });

    new Chart("doughnut_chart_q1", {
      type: "doughnut",
      data: data_q1,
      options: options_doughnut
    });
    new Chart("bar_chart_q1", {
      type: "bar",
      data: data_q1,
      options: options_bar
    });

    new Chart("doughnut_chart_q2", {
      type: "doughnut",
      data: data_q2,
      options: options_doughnut
    });
    new Chart("bar_chart_q2", {
      type: "bar",
      data: data_q2,
      options: options_bar
    });

    new Chart("doughnut_chart_q3", {
      type: "doughnut",
      data: data_q3,
      options: options_doughnut
    });
    new Chart("bar_chart_q3", {
      type: "bar",
      data: data_q3,
      options: options_bar
    });
  </script>
{% endblock %}